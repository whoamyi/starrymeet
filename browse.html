<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="description" content="Browse and discover celebrities available for exclusive face-to-face meetings. Filter by category, location, and price to find your favorite stars.">

    <!-- PERFORMANCE: Font preconnect for faster loading -->
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>

    <!-- Open Graph / Social Media Meta Tags -->
    <meta property="og:type" content="website">
    <meta property="og:url" content="https://starrymeet.com/browse.html">
    <meta property="og:title" content="Browse Celebrities - StarryMeet">
    <meta property="og:description" content="Browse and discover celebrities available for exclusive face-to-face meetings. Filter by category, location, and price to find your favorite stars.">
    <meta property="og:site_name" content="StarryMeet">

    <!-- Twitter Card Meta Tags -->
    <meta name="twitter:card" content="summary_large_image">
    <meta name="twitter:title" content="Browse Celebrities - StarryMeet">
    <meta name="twitter:description" content="Browse and discover celebrities available for exclusive face-to-face meetings. Filter by category, location, and price to find your favorite stars.">

    <title>Browse Celebrities - StarryMeet</title>
    <link rel="stylesheet" href="css/shared.css">
    <link rel="stylesheet" href="css/pages/browse.css">
    <script src="js/shared.js"></script>
</head>
<body>
    <!-- Navigation -->
    <nav role="navigation" aria-label="Main navigation" id="navbar">
        <div class="nav-container">
            <a href="index.html" class="logo" style="color: #ffffff;">StarryMeet</a>
            <button class="hamburger-btn" onclick="toggleMobileMenu()" aria-label="Toggle navigation menu">‚ò∞</button>
            <ul class="nav-links">
                <li class="nav-item-categories">
                    <a href="#" onclick="event.preventDefault(); toggleCategoriesDropdown()">Categories ‚ñæ</a>
                    <div class="categories-dropdown" id="categoriesDropdown">
                        <a href="browse.html?category=Hollywood">Hollywood</a>
                        <a href="browse.html?category=Musicians">Musicians</a>
                        <a href="browse.html?category=Athletes">Athletes</a>
                        <a href="browse.html?category=K-Drama">K-Drama</a>
                        <a href="browse.html?category=Business">Business</a>
                        <a href="browse.html">View all</a>
                    </div>
                </li>
                <li><a href="how-it-works.html">How it works</a></li>
                <li><a href="for-celebrities.html">Join as star</a></li>
                <li><a href="dashboard.html">Log in</a></li>
            </ul>
        </div>
    </nav>

    <!-- Mobile Menu Overlay -->
    <div class="mobile-menu-overlay" id="mobileMenuOverlay" onclick="closeMobileMenu()"></div>

    <!-- Mobile Menu -->
    <div class="mobile-menu" id="mobileMenu">
        <div class="mobile-menu-header">
            <a href="index.html" class="logo" onclick="closeMobileMenu()">StarryMeet</a>
            <button class="mobile-menu-close" onclick="closeMobileMenu()">√ó</button>
        </div>
        <ul class="mobile-menu-links">
            <li class="mobile-menu-categories">
                <a href="#" onclick="event.preventDefault(); toggleMobileCategoriesSubmenu()">Categories ‚Ä∫</a>
                <ul class="mobile-submenu" id="mobileSubmenu">
                    <li><a href="browse.html?category=Hollywood" onclick="closeMobileMenu()">Hollywood</a></li>
                    <li><a href="browse.html?category=K-Drama" onclick="closeMobileMenu()">K-Drama</a></li>
                    <li><a href="browse.html?category=Business" onclick="closeMobileMenu()">Business</a></li>
                    <li><a href="browse.html?category=Athletes" onclick="closeMobileMenu()">Athletes</a></li>
                    <li><a href="browse.html?category=Musicians" onclick="closeMobileMenu()">Musicians</a></li>
                </ul>
            </li>
            <li><a href="how-it-works.html" onclick="closeMobileMenu()">How it works</a></li>
            <li><a href="for-celebrities.html" onclick="closeMobileMenu()">Join as star</a></li>
            <li><button class="locale-btn" onclick="openLocaleModal()">üåê <span id="mobileLocaleText">EN | United States | $ USD</span></button></li>
            <li class="mobile-menu-login-item"><a href="dashboard.html" onclick="closeMobileMenu()" class="mobile-menu-login">Log in</a></li>
        </ul>
    </div>


    <!-- Main Container -->
    <div class="main-container">
        <!-- Filter Sidebar -->
        <aside class="filter-sidebar" id="filterSidebar">
            <!-- Close Button (X top right) -->
            <button class="filter-close-btn" onclick="toggleFilters()" aria-label="Close filters">√ó</button>

            <div class="filter-content" id="filterContent">
                <!-- Clear All at top right -->
                <div class="filter-header-minimal">
                    <h2>Filters</h2>
                    <a href="#" class="clear-all-link" onclick="event.preventDefault(); clearAllFilters();">Clear all</a>
                </div>

            <!-- Category Filter -->
            <div class="filter-section">
                <button class="filter-section-toggle" onclick="toggleFilterSection('categories')">
                    <h3>Category</h3>
                    <span class="toggle-arrow">‚Ä∫</span>
                </button>
                <div class="checkbox-group collapsible" id="categories">
                    <div class="checkbox-item">
                        <input type="checkbox" id="cat-hollywood" value="Hollywood" onchange="applyFilters()">
                        <label for="cat-hollywood">
                            <span>Hollywood</span>
                            <span class="checkbox-count">15</span>
                        </label>
                    </div>
                    <div class="checkbox-item">
                        <input type="checkbox" id="cat-kdrama" value="K-Drama" onchange="applyFilters()">
                        <label for="cat-kdrama">
                            <span>K-Drama</span>
                            <span class="checkbox-count">5</span>
                        </label>
                    </div>
                    <div class="checkbox-item">
                        <input type="checkbox" id="cat-business" value="Business" onchange="applyFilters()">
                        <label for="cat-business">
                            <span>Business</span>
                            <span class="checkbox-count">5</span>
                        </label>
                    </div>
                    <div class="checkbox-item hidden-initially">
                        <input type="checkbox" id="cat-athletes" value="Athletes" onchange="applyFilters()">
                        <label for="cat-athletes">
                            <span>Athletes</span>
                            <span class="checkbox-count">5</span>
                        </label>
                    </div>
                    <div class="checkbox-item hidden-initially">
                        <input type="checkbox" id="cat-musicians" value="Musicians" onchange="applyFilters()">
                        <label for="cat-musicians">
                            <span>Musicians</span>
                            <span class="checkbox-count">5</span>
                        </label>
                    </div>
                    <button class="show-more-btn" onclick="toggleShowMore('categories')">Show more</button>
                </div>
            </div>

            <!-- Location Filter -->
            <div class="filter-section">
                <button class="filter-section-toggle" onclick="toggleFilterSection('locations')">
                    <h3>Location</h3>
                    <span class="toggle-arrow">‚Ä∫</span>
                </button>
                <div class="checkbox-group collapsible" id="locations">
                    <div class="checkbox-item">
                        <input type="checkbox" id="loc-usa" value="USA" onchange="applyFilters()">
                        <label for="loc-usa">
                            <span>United States</span>
                            <span class="checkbox-count">17</span>
                        </label>
                    </div>
                    <div class="checkbox-item">
                        <input type="checkbox" id="loc-uk" value="UK" onchange="applyFilters()">
                        <label for="loc-uk">
                            <span>United Kingdom</span>
                            <span class="checkbox-count">3</span>
                        </label>
                    </div>
                    <div class="checkbox-item">
                        <input type="checkbox" id="loc-korea" value="South Korea" onchange="applyFilters()">
                        <label for="loc-korea">
                            <span>South Korea</span>
                            <span class="checkbox-count">6</span>
                        </label>
                    </div>
                    <div class="checkbox-item hidden-initially">
                        <input type="checkbox" id="loc-france" value="France" onchange="applyFilters()">
                        <label for="loc-france">
                            <span>France</span>
                            <span class="checkbox-count">1</span>
                        </label>
                    </div>
                    <div class="checkbox-item hidden-initially">
                        <input type="checkbox" id="loc-australia" value="Australia" onchange="applyFilters()">
                        <label for="loc-australia">
                            <span>Australia</span>
                            <span class="checkbox-count">2</span>
                        </label>
                    </div>
                    <div class="checkbox-item hidden-initially">
                        <input type="checkbox" id="loc-canada" value="Canada" onchange="applyFilters()">
                        <label for="loc-canada">
                            <span>Canada</span>
                            <span class="checkbox-count">1</span>
                        </label>
                    </div>
                    <button class="show-more-btn" onclick="toggleShowMore('locations')">Show more</button>
                </div>
            </div>

            <!-- Date Range -->
            <div class="filter-section">
                <h3>Date Range</h3>
                <div class="date-inputs">
                    <input type="date" class="date-input" id="startDate" onchange="applyFilters()">
                    <input type="date" class="date-input" id="endDate" onchange="applyFilters()">
                </div>
            </div>

            <!-- Price Range -->
            <div class="filter-section">
                <h3>Price Range</h3>
                <div class="price-slider-container">
                    <div class="price-values">
                        <span id="minPriceDisplay">$0</span>
                        <span id="maxPriceDisplay">$60,000</span>
                    </div>
                    <input type="range" min="0" max="60000" value="60000" class="price-slider" id="maxPriceSlider" oninput="updatePriceDisplay()" onchange="applyFilters()">
                </div>
            </div>

            <!-- Trending Now -->
            <div class="filter-section">
                <div class="toggle-container">
                    <h3>Trending Now</h3>
                    <label class="toggle-switch">
                        <input type="checkbox" id="trendingToggle" onchange="applyFilters()">
                        <span class="toggle-slider"></span>
                    </label>
                </div>
            </div>

            <!-- Apply Button -->
            <button class="apply-filters-btn" onclick="toggleFilters()">Apply filters</button>
            </div>
        </aside>

        <!-- Filter Overlay (Mobile) -->
        <div class="filter-overlay" id="filterOverlay" onclick="toggleMobileFilters()"></div>

        <!-- Main Content -->
        <main class="main-content">
            <!-- Search Section -->
            <div class="search-section">
                <div class="search-bar">
                    <span class="search-icon">üîç</span>
                    <input type="text" placeholder="Search by celebrity name..." id="searchInput" oninput="applyFilters()">
                </div>
                <!-- Active Filter Chips -->
                <div class="filter-chips" id="filterChips"></div>
            </div>

            <!-- Results Toolbar -->
            <div class="results-toolbar">
                <div class="toolbar-left">
                    <div class="view-toggle">
                        <button class="view-btn" onclick="toggleFilters()" id="filterBtn" aria-label="Toggle filters">
                            <svg width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                                <line x1="4" y1="6" x2="20" y2="6"></line>
                                <line x1="4" y1="12" x2="20" y2="12"></line>
                                <line x1="4" y1="18" x2="20" y2="18"></line>
                                <circle cx="17" cy="6" r="2"></circle>
                                <circle cx="7" cy="12" r="2"></circle>
                                <circle cx="14" cy="18" r="2"></circle>
                            </svg>
                        </button>
                        <button class="view-btn active" onclick="switchView('grid')" id="gridViewBtn">‚äû</button>
                        <button class="view-btn" onclick="switchView('list')" id="listViewBtn">‚ò∞</button>
                    </div>
                    <div class="results-count" id="resultsCount">Showing 0 of 110 celebrities</div>
                </div>
                <div class="toolbar-controls">

                    <select class="sort-dropdown" id="sortDropdown" onchange="applySorting()">
                        <option value="popular">Popular</option>
                        <option value="price-low">Price: Low to High</option>
                        <option value="price-high">Price: High to Low</option>
                        <option value="availability">Availability</option>
                        <option value="name">Name (A-Z)</option>
                    </select>
                    <button class="map-btn" onclick="alert('Map view coming soon!')">üó∫Ô∏è Map View</button>
                </div>
            </div>

            <!-- Grid View -->
            <div class="celebrities-grid" id="celebritiesGrid">
                <!-- Celebrities will be loaded here -->
            </div>

            <!-- List View -->
            <div class="celebrities-list" id="celebritiesList">
                <!-- Celebrities list will be loaded here -->
            </div>

            <!-- No Results -->
            <div class="no-results hidden" id="noResults">
                <h3>No celebrities found</h3>
                <p>Try adjusting your filters or search criteria</p>
            </div>

            <!-- Pagination -->
            <div class="pagination" id="pagination">
                <button class="pagination-btn" id="prevBtn" onclick="changePage(-1)" aria-label="Previous page">
                    ‚Üê Prev
                </button>
                <div class="pagination-numbers" id="paginationNumbers"></div>
                <button class="pagination-btn" id="nextBtn" onclick="changePage(1)" aria-label="Next page">
                    Next ‚Üí
                </button>
            </div>
        </main>
    </div>

    <script>
        // Use shared celebrity data from shared.js
        const celebrities = CELEBRITIES;
        const cityByCountry = {
            "USA": ["Los Angeles", "New York", "Miami", "Atlanta", "San Francisco", "Seattle", "Chicago", "Boston", "Las Vegas", "Nashville", "Dallas", "Houston", "Phoenix", "Tampa", "Palo Alto", "Cupertino", "Mountain View", "Omaha", "Honolulu"],
            "UK": ["London"],
            "South Korea": ["Seoul", "Busan"],
            "France": ["Paris"],
            "Japan": ["Tokyo"],
            "Australia": ["Sydney"],
            "Canada": ["Vancouver", "Toronto"],
            "UAE": ["Dubai"],
            "India": ["Mumbai"],
            "Israel": ["Tel Aviv", "Jerusalem"],
            "South Africa": ["Cape Town"],
            "Kenya": ["Nairobi"],
            "Guatemala": ["Guatemala City"],
            "China": ["Hangzhou"],
            "Saudi Arabia": ["Riyadh"],
            "Spain": ["Barcelona"],
            "Jamaica": ["Kingston"],
            "Switzerland": ["Zurich"],
            "Monaco": ["Monaco"],
            "Ireland": ["Dublin"],
            "Serbia": ["Belgrade"],
            "Barbados": ["Bridgetown"],
            "Puerto Rico": ["San Juan"]
        };

        // Color palettes for celebrity initials
        const colorPalettes = [
            'linear-gradient(135deg, #667eea, #764ba2)',
            'linear-gradient(135deg, #f093fb, #f5576c)',
            'linear-gradient(135deg, #4facfe, #00f2fe)',
            'linear-gradient(135deg, #43e97b, #38f9d7)',
            'linear-gradient(135deg, #fa709a, #fee140)',
            'linear-gradient(135deg, #30cfd0, #330867)',
            'linear-gradient(135deg, #a8edea, #fed6e3)',
            'linear-gradient(135deg, #ff9a9e, #fecfef)',
            'linear-gradient(135deg, #ffecd2, #fcb69f)',
            'linear-gradient(135deg, #ff6e7f, #bfe9ff)'
        ];

        // State
        let filteredCelebrities = [...celebrities];
        let currentView = 'grid';
        let watchlist = new Set();

        // Get initials
        function getInitials(name) {
            return name.split(' ').map(n => n[0]).join('').substring(0, 2);
        }

        // Get color for celebrity
        function getColorForCelebrity(name) {
            const index = name.split('').reduce((acc, char) => acc + char.charCodeAt(0), 0);
            return colorPalettes[index % colorPalettes.length];
        }

        // Update city filter based on country
        function updateCityFilter() {
            const country = document.getElementById('countryFilter').value;
            const cityFilter = document.getElementById('cityFilter');

            cityFilter.innerHTML = '<option value="">All Cities</option>';

            if (country && cityByCountry[country]) {
                cityByCountry[country].forEach(city => {
                    const option = document.createElement('option');
                    option.value = city;
                    option.textContent = city;
                    cityFilter.appendChild(option);
                });
            }

            applyFilters();
        }

        // Update price display
        function updatePriceDisplay() {
            const maxPrice = document.getElementById('maxPriceSlider').value;
            document.getElementById('maxPriceDisplay').textContent = '$' + parseInt(maxPrice).toLocaleString();
        }

        // Apply all filters
        function applyFilters() {
            const searchTerm = document.getElementById('searchInput').value.toLowerCase();
            const selectedCategories = Array.from(document.querySelectorAll('.checkbox-item input:checked')).map(cb => cb.value);
            const selectedCountry = document.getElementById('countryFilter').value;
            const selectedCity = document.getElementById('cityFilter').value;
            const maxPrice = parseInt(document.getElementById('maxPriceSlider').value);
            const trendingOnly = document.getElementById('trendingToggle').checked;

            filteredCelebrities = celebrities.filter(celeb => {
                // Search filter
                if (searchTerm && !celeb.name.toLowerCase().includes(searchTerm)) {
                    return false;
                }

                // Category filter
                if (selectedCategories.length > 0 && !selectedCategories.includes(celeb.category)) {
                    return false;
                }

                // Country filter
                if (selectedCountry && celeb.country !== selectedCountry) {
                    return false;
                }

                // City filter
                if (selectedCity && celeb.city !== selectedCity) {
                    return false;
                }

                // Price filter
                if (celeb.price > maxPrice) {
                    return false;
                }

                // Trending filter
                if (trendingOnly && !celeb.trending) {
                    return false;
                }

                return true;
            });

            // Update filter count
            let filterCount = 0;
            if (searchTerm) filterCount++;
            if (selectedCategories.length > 0) filterCount += selectedCategories.length;
            if (selectedCountry) filterCount++;
            if (selectedCity) filterCount++;
            if (maxPrice < 60000) filterCount++;
            if (trendingOnly) filterCount++;

            document.getElementById('filterCount').textContent = filterCount;

            // Reset to page 1 when filters change
            currentPage = 1;
            renderFilterChips();

            applySorting();
        }

        // Apply sorting
        function applySorting() {
            const sortValue = document.getElementById('sortDropdown').value;

            switch(sortValue) {
                case 'price-low':
                    filteredCelebrities.sort((a, b) => a.price - b.price);
                    break;
                case 'price-high':
                    filteredCelebrities.sort((a, b) => b.price - a.price);
                    break;
                case 'name':
                    filteredCelebrities.sort((a, b) => a.name.localeCompare(b.name));
                    break;
                case 'availability':
                    filteredCelebrities.sort((a, b) => a.location.localeCompare(b.location));
                    break;
                default:
                    // Popular - keep original order
                    break;
            }

            renderCelebrities();
        }

        // Clear all filters
        function clearAllFilters() {
            document.getElementById('searchInput').value = '';
            document.querySelectorAll('.checkbox-item input').forEach(cb => cb.checked = false);
            document.getElementById('countryFilter').value = '';
            document.getElementById('cityFilter').value = '';
            document.getElementById('startDate').value = '';
            document.getElementById('endDate').value = '';
            document.getElementById('maxPriceSlider').value = 60000;
            document.getElementById('trendingToggle').checked = false;
            updatePriceDisplay();
            applyFilters();
        }

        // Toggle watchlist
        function toggleWatchlist(event, name) {
            event.stopPropagation();
            const btn = event.currentTarget;

            if (watchlist.has(name)) {
                watchlist.delete(name);
                btn.classList.remove('active');
                btn.innerHTML = 'ü§ç';
            } else {
                watchlist.add(name);
                btn.classList.add('active');
                btn.innerHTML = '‚ù§Ô∏è';
            }
        }

        // Switch view
        function switchView(view) {
            currentView = view;
            document.getElementById('gridViewBtn').classList.toggle('active', view === 'grid');
            document.getElementById('listViewBtn').classList.toggle('active', view === 'list');
            renderCelebrities();
        }

        // Render celebrities with pagination
        function renderCelebrities() {
            const start = (currentPage - 1) * perPage;
            const end = start + perPage;
            const paginatedCelebrities = filteredCelebrities.slice(start, end);

            const gridContainer = document.getElementById('celebritiesGrid');
            const listContainer = document.getElementById('celebritiesList');
            const noResults = document.getElementById('noResults');
            const resultsCount = document.getElementById('resultsCount');

            gridContainer.innerHTML = '';
            listContainer.innerHTML = '';

            resultsCount.textContent = `Showing ${start + 1}-${Math.min(end, filteredCelebrities.length)} of ${filteredCelebrities.length} celebrities`;

            if (filteredCelebrities.length === 0) {
                noResults.classList.remove('hidden');
                gridContainer.classList.add('hidden');
                listContainer.classList.add('hidden');
                return;
            }

            noResults.classList.add('hidden');

            if (currentView === 'grid') {
                gridContainer.classList.remove('hidden');
                listContainer.classList.remove('active');
                paginatedCelebrities.forEach(celeb => {
                    gridContainer.innerHTML += createGridCard(celeb);
                });
            } else {
                gridContainer.classList.add('hidden');
                listContainer.classList.add('active');
                paginatedCelebrities.forEach(celeb => {
                    listContainer.innerHTML += createListCard(celeb);
                });
            }

            renderPagination();
        }

        // Create grid card
        function createGridCard(celeb) {
            const initials = getInitials(celeb.name);
            const color = getColorForCelebrity(celeb.name);
            const isInWatchlist = watchlist.has(celeb.name);
            const heartIcon = isInWatchlist ? '‚ù§Ô∏è' : 'ü§ç';
            const watchlistClass = isInWatchlist ? 'active' : '';

            return `
                <div class="celebrity-card" onclick="window.location.href='celebrity-profile.html?name=${encodeURIComponent(celeb.name)}'">
                    <div class="celebrity-image" style="background: ${color}">
                        ${celeb.verified ? '<div class="verified-badge">‚úì Verified</div>' : ''}
                        <button class="watchlist-btn ${watchlistClass}" onclick="toggleWatchlist(event, '${celeb.name}')">${heartIcon}</button>
                        <div class="celebrity-initials">${initials}</div>
                    </div>
                    <div class="celebrity-info">
                        <div class="celebrity-name">${celeb.name}</div>
                        <div class="celebrity-category">${celeb.category}</div>
                        <div class="celebrity-location">üìç ${celeb.location}</div>
                        <div class="celebrity-price">
                            <span class="price">$${celeb.price.toLocaleString()}</span>
                            <div class="celebrity-rating">
                                <span class="rating-star">‚òÖ</span>
                                <span>4.95</span>
                            </div>
                        </div>
                    </div>
                </div>
            `;
        }

        // Create list card
        function createListCard(celeb) {
            const initials = getInitials(celeb.name);
            const color = getColorForCelebrity(celeb.name);
            const isInWatchlist = watchlist.has(celeb.name);
            const heartIcon = isInWatchlist ? '‚ù§Ô∏è' : 'ü§ç';
            const watchlistClass = isInWatchlist ? 'active' : '';

            return `
                <div class="celebrity-card-list" onclick="window.location.href='celebrity-profile.html?name=${encodeURIComponent(celeb.name)}'">
                    <div class="celebrity-image-list" style="background: ${color}">
                        ${celeb.verified ? '<div class="verified-badge">‚úì Verified</div>' : ''}
                        <button class="watchlist-btn ${watchlistClass}" onclick="toggleWatchlist(event, '${celeb.name}')">${heartIcon}</button>
                        <div class="celebrity-initials">${initials}</div>
                    </div>
                    <div class="celebrity-info-list">
                        <div class="celebrity-header-list">
                            <div class="celebrity-details-list">
                                <div class="celebrity-name-list">${celeb.name}</div>
                                <div class="celebrity-category">${celeb.category}</div>
                                <div class="celebrity-meta">
                                    <div class="meta-item">üìç ${celeb.location}</div>
                                    <div class="meta-item">üí∞ $${celeb.price.toLocaleString()}</div>
                                    ${celeb.trending ? '<div class="meta-item trending-indicator">üî• Trending</div>' : ''}
                                </div>
                            </div>
                        </div>
                        <div class="celebrity-actions-list">
                            <div class="celebrity-rating">
                                <span class="rating-star">‚òÖ</span>
                                <span>4.95</span>
                            </div>
                        </div>
                    </div>
                </div>
            `;
        }

        // Initialize
        function initializePage() {
            // Check for category parameter in URL
            const urlParams = new URLSearchParams(window.location.search);
            const category = urlParams.get('category');

            if (category) {
                // Check the corresponding category checkbox
                const checkbox = document.getElementById('cat-' + category.toLowerCase().replace('-', ''));
                if (checkbox) {
                    checkbox.checked = true;
                }
            }

            applyFilters();
        }

        initializePage();

        // Pagination state
        let currentPage = 1;
        const perPage = 12;

        // Toggle filters (unified for mobile and desktop)
        function toggleFilters() {
            const sidebar = document.getElementById('filterSidebar');
            const overlay = document.getElementById('filterOverlay');
            const wasActive = sidebar.classList.contains('active');

            sidebar.classList.toggle('active');
            overlay.classList.toggle('active');

            // Prevent body scroll when filters open
            document.body.style.overflow = sidebar.classList.contains('active') ? 'hidden' : '';

            // Auto-apply filters when closing
            if (wasActive) {
                applyFilters();
            }
        }

        // Toggle filter section (collapsible categories/locations)
        function toggleFilterSection(sectionId) {
            const section = document.getElementById(sectionId);
            const toggle = section.previousElementSibling;

            section.classList.toggle('expanded');
            toggle.classList.toggle('expanded');
        }

        // Show more items in filter section
        function toggleShowMore(sectionId) {
            const section = document.getElementById(sectionId);
            const hiddenItems = section.querySelectorAll('.hidden-initially');
            const button = section.querySelector('.show-more-btn');

            const isExpanded = hiddenItems[0].style.display !== 'none' && hiddenItems[0].style.display !== '';

            hiddenItems.forEach(item => {
                item.style.display = isExpanded ? 'none' : 'flex';
            });

            button.textContent = isExpanded ? 'Show more' : 'Show less';
        }

        // Render filter chips
        function renderFilterChips() {
            const chipsContainer = document.getElementById('filterChips');
            const chips = [];

            const selectedCategories = Array.from(document.querySelectorAll('.checkbox-item input:checked'));
            selectedCategories.forEach(cb => {
                chips.push(`<div class="filter-chip">${cb.value}<button onclick="removeFilterChip('category', '${cb.value}')">√ó</button></div>`);
            });

            const selectedCountry = document.getElementById('countryFilter').value;
            if (selectedCountry) {
                chips.push(`<div class="filter-chip">${selectedCountry}<button onclick="removeFilterChip('country', '${selectedCountry}')">√ó</button></div>`);
            }

            const selectedCity = document.getElementById('cityFilter').value;
            if (selectedCity) {
                chips.push(`<div class="filter-chip">${selectedCity}<button onclick="removeFilterChip('city', '${selectedCity}')">√ó</button></div>`);
            }

            const maxPrice = parseInt(document.getElementById('maxPriceSlider').value);
            if (maxPrice < 60000) {
                chips.push(`<div class="filter-chip">Up to $${maxPrice}<button onclick="removeFilterChip('price', '${maxPrice}')">√ó</button></div>`);
            }

            const trending = document.getElementById('trendingToggle').checked;
            if (trending) {
                chips.push(`<div class="filter-chip">Trending<button onclick="removeFilterChip('trending', '')">√ó</button></div>`);
            }

            chipsContainer.innerHTML = chips.join('');
            chipsContainer.style.display = chips.length > 0 ? 'flex' : 'none';
        }

        // Remove filter chip
        function removeFilterChip(type, value) {
            if (type === 'category') {
                const checkbox = Array.from(document.querySelectorAll('.checkbox-item input')).find(cb => cb.value === value);
                if (checkbox) checkbox.checked = false;
            } else if (type === 'country') {
                document.getElementById('countryFilter').value = '';
                document.getElementById('cityFilter').value = '';
            } else if (type === 'city') {
                document.getElementById('cityFilter').value = '';
            } else if (type === 'price') {
                document.getElementById('maxPriceSlider').value = '60000';
            } else if (type === 'trending') {
                document.getElementById('trendingToggle').checked = false;
            }
            applyFilters();
        }

        // Pagination functions
        function changePage(delta) {
            const totalPages = Math.ceil(filteredCelebrities.length / perPage);
            currentPage = Math.max(1, Math.min(totalPages, currentPage + delta));
            renderCelebrities();
            renderPagination();
            window.scrollTo({ top: 0, behavior: 'smooth' });
        }

        function goToPage(page) {
            currentPage = page;
            renderCelebrities();
            renderPagination();
            window.scrollTo({ top: 0, behavior: 'smooth' });
        }

        function renderPagination() {
            const totalPages = Math.ceil(filteredCelebrities.length / perPage);
            const pagination = document.getElementById('pagination');
            const numbersContainer = document.getElementById('paginationNumbers');
            const prevBtn = document.getElementById('prevBtn');
            const nextBtn = document.getElementById('nextBtn');

            if (totalPages <= 1) {
                pagination.style.display = 'none';
                return;
            }

            pagination.style.display = 'flex';
            prevBtn.disabled = currentPage === 1;
            nextBtn.disabled = currentPage === totalPages;

            // Build page numbers
            let pages = [];

            // Always show first page
            pages.push(1);

            // Show current ¬± 2 pages
            for (let i = Math.max(2, currentPage - 2); i <= Math.min(totalPages - 1, currentPage + 2); i++) {
                if (i > 1 && i < totalPages) {
                    pages.push(i);
                }
            }

            // Always show last page
            if (totalPages > 1) {
                pages.push(totalPages);
            }

            // Remove duplicates and sort
            pages = [...new Set(pages)].sort((a, b) => a - b);

            // Build HTML with ellipsis
            numbersContainer.innerHTML = pages.map((page, index) => {
                const prevPage = pages[index - 1];
                const gap = prevPage && page - prevPage > 1 ? '<span class="pagination-ellipsis">...</span>' : '';
                const active = page === currentPage ? 'active' : '';
                return `${gap}<button class="pagination-num ${active}" onclick="goToPage(${page})">${page}</button>`;
            }).join('');
        }

        // Initialize: Collapse all filter sections on page load
        document.addEventListener('DOMContentLoaded', function() {
            // All collapsible sections start collapsed
            const collapsibles = document.querySelectorAll('.checkbox-group.collapsible');
            collapsibles.forEach(section => {
                section.classList.remove('expanded');
            });

            // All toggle buttons start not expanded
            const toggles = document.querySelectorAll('.filter-section-toggle');
            toggles.forEach(toggle => {
                toggle.classList.remove('expanded');
            });
        });

    </script>

    <footer>
        <div class="footer-main">
            <div class="footer-newsletter">
                <h3>Join our mailing list</h3>
                <p>Be the first to know about the newest stars and best deals on StarryMeet</p>
                <form class="newsletter-form" onsubmit="event.preventDefault(); alert('Newsletter signup coming soon!');">
                    <input type="email" placeholder="Your email" required>
                    <button type="submit" class="btn btn-primary">‚Üí</button>
                </form>
                <p class="privacy-note">Emails subject to <a href="privacy.html">privacy policy</a></p>
                <div class="footer-cta-buttons">
                    <a href="for-celebrities.html" class="btn btn-primary">Join as talent</a>
                    <a href="contact.html" class="btn btn-outline">Become a partner</a>
                </div>
            </div>
        </div>
        <div class="footer-columns">
            <div class="footer-column">
                <h4>Company</h4>
                <ul>
                    <li><a href="about.html">About</a></li>
                    <li><a href="team.html">Team</a></li>
                    <li><a href="contact.html">Jobs</a></li>
                    <li><a href="contact.html">Blog</a></li>
                    <li><a href="contact.html">Press</a></li>
                </ul>
            </div>
            <div class="footer-column">
                <h4>Support</h4>
                <ul>
                    <li><a href="faq.html">Help</a></li>
                    <li><a href="contact.html">Accessibility</a></li>
                    <li><a href="terms.html">Refunds & Returns</a></li>
                </ul>
            </div>
            <div class="footer-column">
                <h4>Shop</h4>
                <ul>
                    <li><a href="browse.html">Gift Cards</a></li>
                    <li><a href="for-celebrities.html">For business</a></li>
                    <li><a href="browse.html">For kids</a></li>
                </ul>
            </div>
        </div>
        <div class="footer-bottom">
            <div class="footer-social">
                <a href="#" aria-label="Download on App Store">App Store</a>
                <a href="#" aria-label="Get it on Google Play">Google Play</a>
                <a href="#" aria-label="Instagram">IG</a>
                <a href="#" aria-label="TikTok">TT</a>
                <a href="#" aria-label="Twitter/X">X</a>
                <a href="#" aria-label="Threads">TH</a>
                <a href="#" aria-label="Email">EM</a>
            </div>
            <p class="footer-copyright">¬© 2025 StarryMeet</p>
            <div class="footer-legal">
                <a href="terms.html">Terms of Service</a>
                <a href="privacy.html">Privacy Policy</a>
                <a href="contact.html">Do Not Sell My Personal Information</a>
            </div>
            <div class="footer-locale" style="text-align: center; margin-top: 32px;">
                <button class="locale-btn" onclick="openLocaleModal()">üåê <span id="footerLocaleText">EN | United States | $ USD</span></button>
            </div>
        </div>
    </footer>
</body>
</html>
