<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Browse Icons - StarryMeet</title>

    <!-- Favicons -->
    <link rel="icon" type="image/svg+xml" href="assets/images/white-favicon.svg">
    <link rel="alternate icon" type="image/svg+xml" href="assets/images/black-favicon.svg">

    <!-- Fonts -->
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&display=swap" rel="stylesheet">

    <!-- CSS -->
    <link rel="stylesheet" href="css/main.css">
    <link rel="stylesheet" href="css/pages/browse.css">

    <!-- Scripts -->
    <script src="js/shared.js"></script>
    <script src="js/api.js"></script>
</head>
<body>

    <!-- Navigation -->
    <nav role="navigation" aria-label="Main navigation" id="navbar"></nav>

    <!-- Toolbar - Normal scroll, no sticky -->
    <div class="toolbar" id="toolbar">
        <div class="toolbar-row">
            <div class="search-box">
                <svg width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                    <circle cx="11" cy="11" r="8"/><path d="m21 21-4.35-4.35"/>
                </svg>
                <input type="text" placeholder="Search..." id="searchInput">
            </div>
            <button class="icon-btn" id="filterBtn">
                <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                    <path d="M22 3H2l8 9.46V19l4 2v-8.54L22 3z"/>
                </svg>
            </button>
            <div class="view-switch">
                <button class="icon-btn view-toggle" data-view="grid">
                    <svg width="20" height="20" viewBox="0 0 24 24" fill="currentColor">
                        <rect x="3" y="3" width="7" height="7" rx="1"/>
                        <rect x="14" y="3" width="7" height="7" rx="1"/>
                        <rect x="3" y="14" width="7" height="7" rx="1"/>
                        <rect x="14" y="14" width="7" height="7" rx="1"/>
                    </svg>
                </button>
                <button class="icon-btn view-toggle active" data-view="swipe">
                    <svg width="20" height="20" viewBox="0 0 24 24" fill="currentColor">
                        <rect x="5" y="5" width="14" height="14" rx="2"/>
                    </svg>
                </button>
            </div>
        </div>

        <div class="categories" id="categoriesContainer">
            <!-- Loaded dynamically from database -->
        </div>

        <div class="toolbar-meta">
            <span id="resultsCount">Loading...</span>
            <button id="sortBtn" class="sort-btn">
                <span id="sortLabel">Popular</span>
                <svg width="12" height="12" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                    <polyline points="6 9 12 15 18 9"/>
                </svg>
            </button>
        </div>
    </div>

    <!-- Swipe View -->
    <div class="swipe-section" id="swipeView">
        <div class="card-container">
            <div class="card" id="currentCard">
                <div class="loading-state">Loading...</div>
            </div>
        </div>

        <div class="controls">
            <button class="ctrl-btn pass" id="passBtn">
                <svg width="28" height="28" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2.5">
                    <line x1="18" y1="6" x2="6" y2="18"/>
                    <line x1="6" y1="6" x2="18" y2="18"/>
                </svg>
            </button>
            <button class="ctrl-btn back" id="backBtn">
                <svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2.5">
                    <path d="M15 18l-6-6 6-6"/>
                </svg>
            </button>
            <button class="ctrl-btn view" id="viewBtn">
                <svg width="28" height="28" viewBox="0 0 24 24" fill="currentColor">
                    <path d="M9 16.17L4.83 12l-1.42 1.41L9 19 21 7l-1.41-1.41z"/>
                </svg>
            </button>
        </div>
    </div>

    <!-- Grid View with Pagination -->
    <div class="grid-section" id="gridView" style="display:none;">
        <div class="grid" id="gridContainer"></div>

        <div class="pagination" id="pagination">
            <button class="page-btn" id="prevBtn" disabled>
                <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                    <path d="M15 18l-6-6 6-6"/>
                </svg>
            </button>
            <div class="page-numbers" id="pageNumbers"></div>
            <button class="page-btn" id="nextBtn">
                <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                    <path d="M9 18l6-6-6-6"/>
                </svg>
            </button>
        </div>

        <div class="per-page">
            <span>Show:</span>
            <select id="perPageSelect">
                <option value="12" selected>12</option>
                <option value="24">24</option>
                <option value="48">48</option>
            </select>
            <span>per page</span>
        </div>
    </div>

    <!-- Filter Modal -->
    <div class="filter-modal" id="filterModal">
        <div class="modal-overlay" id="modalOverlay"></div>
        <div class="modal-content">
            <div class="modal-header">
                <h3>Filters</h3>
                <button id="closeModal">Ã—</button>
            </div>
            <div class="modal-body">
                <div class="filter-group">
                    <label>Price Range</label>
                    <select id="priceFilter">
                        <option value="all">All Prices</option>
                        <option value="0-5000">Under $5,000</option>
                        <option value="5000-15000">$5,000 - $15,000</option>
                        <option value="15000-30000">$15,000 - $30,000</option>
                        <option value="30000+">$30,000+</option>
                    </select>
                </div>
                <div class="filter-group">
                    <label>Availability</label>
                    <select id="availabilityFilter">
                        <option value="all">All</option>
                        <option value="available">Available Now</option>
                    </select>
                </div>
            </div>
            <div class="modal-footer">
                <button id="clearFilters">Clear</button>
                <button id="applyFilters">Apply</button>
            </div>
        </div>
    </div>

    <!-- Footer -->
    <footer id="footer"></footer>

    <!-- Scripts -->
    <script src="js/inject-layout.js"></script>
    <script src="js/browse.js"></script>
</body>
</html>
