<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Book Your Meeting - StarryMeet</title>
    <link rel="stylesheet" href="css/shared.css">
    <script src="js/shared.js"></script>
    <script src="js/booking-init.js"></script>
    <style>
        body{background:#000000;color:#ffffff;padding-top:80px;}
        .container{max-width:1000px;margin:0 auto;padding:40px 24px;}
        .progress-bar{display:flex;justify-content:space-between;margin-bottom:60px;position:relative;}
        .progress-bar::before{content:'';position:absolute;top:20px;left:0;right:0;height:2px;background:rgba(255,255,255,0.1);z-index:0;}
        .progress-line{position:absolute;top:20px;left:0;height:2px;background:rgba(255,255,255,0.5);z-index:1;transition:width 0.3s;}
        .progress-step{position:relative;z-index:2;text-align:center;flex:1;}
        .progress-step-circle{width:40px;height:40px;border-radius:50%;background:#0a0a0a;border:2px solid rgba(255,255,255,0.1);display:flex;align-items:center;justify-content:center;margin:0 auto 12px;font-weight:600;}
        .progress-step.active .progress-step-circle{border-color:#ffffff;background:rgba(255,255,255,0.1);}
        .progress-step.completed .progress-step-circle{border-color:#ffffff;background:#ffffff;color:#000000;}
        .progress-step-label{font-size:0.875rem;opacity:0.5;}
        .progress-step.active .progress-step-label{opacity:1;}

        .booking-layout{display:grid;grid-template-columns:1fr 380px;gap:32px;margin-top:40px;}
        .booking-main{}
        .booking-sidebar{position:sticky;top:100px;height:fit-content;}

        .step-section{background:#0a0a0a;border:1px solid rgba(255,255,255,0.08);border-radius:20px;padding:32px;margin-bottom:24px;display:none;}
        .step-section.active{display:block;}
        .step-section h2{font-size:1.5rem;font-weight:600;margin-bottom:24px;}

        .form-group{margin-bottom:24px;}
        .form-group label{display:block;font-weight:500;margin-bottom:8px;}
        .form-group input,.form-group select,.form-group textarea{width:100%;background:#000000;border:1px solid rgba(255,255,255,0.15);border-radius:12px;padding:14px 16px;color:#ffffff;font-size:1rem;font-family:inherit;}
        .form-group input:focus,.form-group select:focus,.form-group textarea:focus{outline:none;border-color:rgba(255,255,255,0.4);}
        .form-group textarea{resize:vertical;min-height:100px;}

        .calendar-container{display:grid;grid-template-columns:repeat(7,1fr);gap:8px;margin-top:16px;}
        .calendar-day{aspect-ratio:1;display:flex;align-items:center;justify-content:center;border:1px solid rgba(255,255,255,0.08);border-radius:12px;cursor:pointer;font-size:0.875rem;transition:all 0.2s;}
        .calendar-day:hover{border-color:rgba(255,255,255,0.3);background:rgba(255,255,255,0.05);}
        .calendar-day.selected{background:#ffffff;color:#000000;border-color:#ffffff;}
        .calendar-day.disabled{opacity:0.3;cursor:not-allowed;}
        .calendar-day.disabled:hover{border-color:rgba(255,255,255,0.08);background:transparent;}

        .time-slots{display:grid;grid-template-columns:repeat(3,1fr);gap:12px;margin-top:16px;}
        .time-slot{padding:14px;background:#000000;border:1px solid rgba(255,255,255,0.15);border-radius:12px;text-align:center;cursor:pointer;font-size:0.9rem;transition:all 0.2s;}
        .time-slot:hover{border-color:rgba(255,255,255,0.4);background:rgba(255,255,255,0.05);}
        .time-slot.selected{background:#ffffff;color:#000000;border-color:#ffffff;}
        .time-slot.unavailable{opacity:0.3;cursor:not-allowed;}
        .time-slot.unavailable:hover{border-color:rgba(255,255,255,0.15);background:#000000;}

        .time-slot-mini{padding:10px;background:#000000;border:1px solid rgba(255,255,255,0.15);border-radius:8px;text-align:center;cursor:pointer;font-size:0.85rem;transition:all 0.2s;color:#ffffff;font-family:inherit;}
        .time-slot-mini:hover{border-color:rgba(255,255,255,0.4);background:rgba(255,255,255,0.05);}
        .time-slot-mini.selected{background:#ffffff;color:#000000;border-color:#ffffff;font-weight:600;}

        .package-options{display:grid;gap:16px;margin-top:16px;}
        .package-option{background:#000000;border:2px solid rgba(255,255,255,0.15);border-radius:16px;padding:20px;cursor:pointer;transition:all 0.2s;}
        .package-option:hover{border-color:rgba(255,255,255,0.4);}
        .package-option.selected{border-color:#ffffff;background:rgba(255,255,255,0.05);}
        .package-header{display:flex;justify-content:space-between;align-items:center;margin-bottom:12px;}
        .package-name{font-weight:600;font-size:1.1rem;}
        .package-price{font-size:1.25rem;font-weight:700;}
        .package-duration{opacity:0.6;font-size:0.875rem;margin-bottom:8px;}
        .package-features{display:flex;gap:8px;flex-wrap:wrap;}
        .feature-tag{background:rgba(255,255,255,0.1);padding:4px 12px;border-radius:20px;font-size:0.75rem;}

        .summary-card{background:#0a0a0a;border:1px solid rgba(255,255,255,0.08);border-radius:20px;padding:24px;}
        .summary-item{display:flex;justify-content:space-between;padding:16px 0;border-bottom:1px solid rgba(255,255,255,0.08);}
        .summary-item:last-child{border-bottom:none;}
        .summary-label{opacity:0.6;}
        .summary-value{font-weight:600;}
        .summary-total{font-size:1.5rem;margin-top:12px;padding-top:20px;border-top:2px solid rgba(255,255,255,0.15);}
        .summary-total .summary-label{opacity:1;}

        .btn-primary,.btn-secondary{width:100%;padding:16px;border-radius:12px;font-size:1rem;font-weight:600;cursor:pointer;transition:all 0.2s;border:none;font-family:inherit;}
        .btn-primary{background:#ffffff;color:#000000;margin-bottom:12px;}
        .btn-primary:hover{background:rgba(255,255,255,0.9);}
        .btn-secondary{background:transparent;color:#ffffff;border:1px solid rgba(255,255,255,0.15);}
        .btn-secondary:hover{border-color:rgba(255,255,255,0.4);background:rgba(255,255,255,0.05);}

        .payment-methods{display:grid;gap:12px;margin-top:16px;}
        .payment-method{background:#000000;border:2px solid rgba(255,255,255,0.15);border-radius:12px;padding:16px;display:flex;align-items:center;gap:16px;cursor:pointer;transition:all 0.2s;}
        .payment-method:hover{border-color:rgba(255,255,255,0.4);}
        .payment-method.selected{border-color:#ffffff;background:rgba(255,255,255,0.05);}
        .payment-icon{width:40px;height:40px;background:rgba(255,255,255,0.1);border-radius:8px;display:flex;align-items:center;justify-content:center;font-size:1.2rem;}
        .payment-label{font-weight:500;}

        .success-icon{width:80px;height:80px;background:rgba(255,255,255,0.1);border-radius:50%;display:flex;align-items:center;justify-content:center;font-size:2.5rem;margin:0 auto 24px;}
        .success-message{text-align:center;}
        .success-message h2{font-size:2rem;font-weight:700;margin-bottom:16px;}
        .success-message p{opacity:0.7;margin-bottom:8px;}
        .booking-details{background:#000000;border:1px solid rgba(255,255,255,0.15);border-radius:16px;padding:24px;margin:32px 0;text-align:left;}
        .booking-details-row{display:flex;justify-content:space-between;padding:12px 0;border-bottom:1px solid rgba(255,255,255,0.08);}
        .booking-details-row:last-child{border-bottom:none;}

        @media(max-width:768px){
            body{padding-top:60px;}
            .container{padding:24px 16px;}
            .progress-bar{margin-bottom:32px;}
            .progress-step-label{font-size:0.75rem;}
            .booking-layout{grid-template-columns:1fr;gap:24px;}
            .booking-sidebar{position:static;}
            .time-slots{grid-template-columns:repeat(2,1fr);}
        }
    </style>
</head>
<body>
    <nav role="navigation" aria-label="Main navigation" id="navbar">
        <div class="nav-container">
            <a href="index.html" class="logo" style="color: #ffffff;">StarryMeet</a>
            <button class="hamburger-btn" onclick="toggleMobileMenu()" aria-label="Toggle navigation menu">☰</button>
            <ul class="nav-links">
                <li class="nav-item-categories">
                    <a href="#" onclick="event.preventDefault(); toggleCategoriesDropdown()">Categories ▾</a>
                    <div class="categories-dropdown" id="categoriesDropdown">
                        <a href="browse.html?category=Actors & Actresses">Actors & Actresses</a>
                        <a href="browse.html?category=Musicians">Musicians</a>
                        <a href="browse.html?category=Athletes">Athletes</a>
                        <a href="browse.html?category=K-Drama & K-Pop">K-Drama & K-Pop</a>
                        <a href="browse.html?category=Business & Entrepreneurs">Business & Entrepreneurs</a>
                        <a href="browse.html">View all</a>
                    </div>
                </li>
                <li><a href="how-it-works.html">How it works</a></li>
                <li><a href="for-celebrities.html">Join as star</a></li>
                <li><a href="#" onclick="openAuthModal('login'); return false;">Log in</a></li>
            </ul>
        </div>
    </nav>

    <div class="mobile-menu-overlay" id="mobileMenuOverlay" onclick="closeMobileMenu()"></div>
    <div class="mobile-menu" id="mobileMenu">
        <div class="mobile-menu-header">
            <a href="index.html" class="logo" onclick="closeMobileMenu()">StarryMeet</a>
            <button class="mobile-menu-close" onclick="closeMobileMenu()">×</button>
        </div>
        <ul class="mobile-menu-links">
            <li class="mobile-menu-categories">
                <a href="#" onclick="event.preventDefault(); toggleMobileCategoriesSubmenu()">Categories ›</a>
                <ul class="mobile-submenu" id="mobileSubmenu">
                    <li><a href="browse.html?category=Actors & Actresses" onclick="closeMobileMenu()">Actors & Actresses</a></li>
                    <li><a href="browse.html?category=K-Drama & K-Pop" onclick="closeMobileMenu()">K-Drama & K-Pop</a></li>
                    <li><a href="browse.html?category=Business & Entrepreneurs" onclick="closeMobileMenu()">Business & Entrepreneurs</a></li>
                    <li><a href="browse.html?category=Athletes" onclick="closeMobileMenu()">Athletes</a></li>
                    <li><a href="browse.html?category=Musicians" onclick="closeMobileMenu()">Musicians</a></li>
                </ul>
            </li>
            <li><a href="how-it-works.html" onclick="closeMobileMenu()">How it works</a></li>
            <li><a href="for-celebrities.html" onclick="closeMobileMenu()">Join as star</a></li>
            <li><button class="locale-btn" onclick="openLocaleModal()">🌐 <span id="mobileLocaleText">EN | United States | $ USD</span></button></li>
            <li class="mobile-menu-login-item"><a href="#" onclick="openAuthModal('login'); closeMobileMenu(); return false;" class="mobile-menu-login">Log in</a></li>
        </ul>
    </div>

    <div class="container">
        <div style="text-align: center; margin-bottom: 40px;">
            <h1 style="font-size: 2.5rem; margin-bottom: 10px;">Book <span data-celebrity-name>Celebrity</span></h1>
            <p style="font-size: 1.2rem; opacity: 0.8;">Complete your booking in a few simple steps</p>
        </div>
        <div class="progress-bar">
            <div class="progress-line" id="progressLine"></div>
            <div class="progress-step active" data-step="1">
                <div class="progress-step-circle">1</div>
                <div class="progress-step-label">Choose Package</div>
            </div>
            <div class="progress-step" data-step="2">
                <div class="progress-step-circle">2</div>
                <div class="progress-step-label">Select Date & Time</div>
            </div>
            <div class="progress-step" data-step="3">
                <div class="progress-step-circle">3</div>
                <div class="progress-step-label">Your Details</div>
            </div>
            <div class="progress-step" data-step="4">
                <div class="progress-step-circle">4</div>
                <div class="progress-step-label">Payment</div>
            </div>
            <div class="progress-step" data-step="5">
                <div class="progress-step-circle">✓</div>
                <div class="progress-step-label">Confirmed</div>
            </div>
        </div>

        <div class="booking-layout">
            <div class="booking-main">
                <!-- Step 1: Choose Package -->
                <div class="step-section active" id="step1">
                    <h2>Review your selection</h2>

                    <!-- Pre-selected Details Confirmation -->
                    <div style="background:rgba(255,255,255,0.03);border:1px solid rgba(255,255,255,0.08);border-radius:16px;padding:20px;margin-bottom:32px;">
                        <div style="display:flex;justify-content:space-between;align-items:center;margin-bottom:16px;">
                            <h3 style="font-size:1.1rem;font-weight:600;margin:0;">Meeting Details</h3>
                            <button onclick="toggleEditMode()" style="background:transparent;border:1px solid rgba(255,255,255,0.2);padding:8px 16px;border-radius:8px;color:#ffffff;font-size:0.875rem;cursor:pointer;transition:all 0.2s;" onmouseover="this.style.borderColor='rgba(255,255,255,0.4)'" onmouseout="this.style.borderColor='rgba(255,255,255,0.2)'">
                                <span id="editBtnText">✏️ Edit</span>
                            </button>
                        </div>

                        <div id="confirmView">
                            <div style="display:grid;gap:12px;">
                                <div style="display:flex;justify-content:space-between;padding:10px 0;border-bottom:1px solid rgba(255,255,255,0.06);">
                                    <span style="opacity:0.6;">📍 Location</span>
                                    <span id="displayLocation" style="font-weight:500;">Los Angeles, CA</span>
                                </div>
                                <div style="display:flex;justify-content:space-between;padding:10px 0;border-bottom:1px solid rgba(255,255,255,0.06);">
                                    <span style="opacity:0.6;">📅 Date</span>
                                    <span id="displayDate" style="font-weight:500;">January 15, 2026</span>
                                </div>
                                <div style="display:flex;justify-content:space-between;padding:10px 0;">
                                    <span style="opacity:0.6;">🕐 Time</span>
                                    <span id="displayTime" style="font-weight:500;">Not selected</span>
                                </div>
                            </div>
                        </div>

                        <div id="editView" style="display:none;">
                            <div class="form-group" style="margin-bottom:16px;">
                                <label style="font-size:0.875rem;">Location</label>
                                <select id="editLocation" onchange="updateDisplayValues()" style="background:#000;border:1px solid rgba(255,255,255,0.15);border-radius:8px;padding:10px 12px;color:#fff;width:100%;font-size:0.9rem;">
                                    <option value="Los Angeles, CA">Los Angeles, CA</option>
                                    <option value="New York, NY">New York, NY</option>
                                    <option value="Nashville, TN">Nashville, TN</option>
                                    <option value="London, UK">London, UK</option>
                                </select>
                            </div>
                            <div class="form-group" style="margin-bottom:16px;">
                                <label style="font-size:0.875rem;">Date</label>
                                <select id="editDate" onchange="updateDisplayValues()" style="background:#000;border:1px solid rgba(255,255,255,0.15);border-radius:8px;padding:10px 12px;color:#fff;width:100%;font-size:0.9rem;">
                                    <option value="January 15, 2026">January 15, 2026</option>
                                    <option value="January 22, 2026">January 22, 2026</option>
                                    <option value="February 5, 2026">February 5, 2026</option>
                                    <option value="February 12, 2026">February 12, 2026</option>
                                </select>
                            </div>
                            <div class="form-group" style="margin-bottom:0;">
                                <label style="font-size:0.875rem;">Time Slot</label>
                                <div style="display:grid;grid-template-columns:repeat(3,1fr);gap:8px;">
                                    <button class="time-slot-mini" onclick="selectTimeMini(this, '10:00 AM')">10:00 AM</button>
                                    <button class="time-slot-mini" onclick="selectTimeMini(this, '11:00 AM')">11:00 AM</button>
                                    <button class="time-slot-mini" onclick="selectTimeMini(this, '2:00 PM')">2:00 PM</button>
                                    <button class="time-slot-mini" onclick="selectTimeMini(this, '3:30 PM')">3:30 PM</button>
                                    <button class="time-slot-mini" onclick="selectTimeMini(this, '5:00 PM')">5:00 PM</button>
                                    <button class="time-slot-mini" onclick="selectTimeMini(this, '6:00 PM')">6:00 PM</button>
                                </div>
                            </div>
                        </div>
                    </div>

                    <h3 style="font-size:1.1rem;font-weight:600;margin-bottom:16px;">Choose your meeting package</h3>
                    <div class="package-options">
                        <div class="package-option" onclick="selectPackage(this, 'Quick Meet', 500, 15)">
                            <div class="package-header">
                                <span class="package-name">Quick Meet</span>
                                <span class="package-price">$500</span>
                            </div>
                            <div class="package-duration">15 minutes</div>
                            <div class="package-features">
                                <span class="feature-tag">Brief chat</span>
                                <span class="feature-tag">One photo</span>
                            </div>
                        </div>
                        <div class="package-option selected" onclick="selectPackage(this, 'Standard Meet', 1500, 30)">
                            <div class="package-header">
                                <span class="package-name">Standard Meet</span>
                                <span class="package-price">$1,500</span>
                            </div>
                            <div class="package-duration">30 minutes</div>
                            <div class="package-features">
                                <span class="feature-tag">Extended Q&A</span>
                                <span class="feature-tag">Multiple photos</span>
                                <span class="feature-tag">Signed item</span>
                            </div>
                        </div>
                        <div class="package-option" onclick="selectPackage(this, 'Premium Experience', 3500, 60)">
                            <div class="package-header">
                                <span class="package-name">Premium Experience</span>
                                <span class="package-price">$3,500</span>
                            </div>
                            <div class="package-duration">60 minutes</div>
                            <div class="package-features">
                                <span class="feature-tag">Private session</span>
                                <span class="feature-tag">Photo shoot</span>
                                <span class="feature-tag">Video message</span>
                                <span class="feature-tag">Signed merch</span>
                            </div>
                        </div>
                    </div>
                    <button class="btn-primary" onclick="nextStep()" style="margin-top:32px;">Continue to Your Details</button>
                </div>

                <!-- Step 2: Date & Time (DEPRECATED - Now in Step 1) -->
                <div class="step-section" id="step2" style="display:none!important;">
                    <h2>Select date and time</h2>
                    <div class="form-group">
                        <label>Choose a date</label>
                        <div class="calendar-container" id="calendar"></div>
                    </div>
                    <div class="form-group">
                        <label>Available time slots</label>
                        <div class="time-slots" id="timeSlots">
                            <div class="time-slot" onclick="selectTime(this, '10:00 AM')">10:00 AM</div>
                            <div class="time-slot" onclick="selectTime(this, '11:00 AM')">11:00 AM</div>
                            <div class="time-slot" onclick="selectTime(this, '1:00 PM')">1:00 PM</div>
                            <div class="time-slot unavailable">2:00 PM</div>
                            <div class="time-slot" onclick="selectTime(this, '3:00 PM')">3:00 PM</div>
                            <div class="time-slot" onclick="selectTime(this, '4:00 PM')">4:00 PM</div>
                        </div>
                    </div>
                    <div style="display:flex;gap:12px;margin-top:32px;">
                        <button class="btn-secondary" onclick="prevStep()">Back</button>
                        <button class="btn-primary" onclick="nextStep()">Continue to Details</button>
                    </div>
                </div>

                <!-- Step 3: Your Details & Application -->
                <div class="step-section" id="step3">
                    <div style="text-align:center;margin-bottom:32px;padding-bottom:24px;border-bottom:1px solid rgba(255,255,255,0.08);">
                        <h2 style="margin-bottom:12px;">Tell us about yourself</h2>
                        <p style="opacity:0.7;font-size:0.9375rem;line-height:1.6;max-width:600px;margin:0 auto;">
                            Each meeting request is personally reviewed. Share your story to help us understand why this meeting would be meaningful to you.
                        </p>
                    </div>

                    <!-- Contact Information -->
                    <h3 style="font-size:1.125rem;font-weight:600;margin-bottom:20px;display:flex;align-items:center;gap:8px;">
                        <span style="font-size:1.25rem;">👤</span> Contact Information
                    </h3>
                    <div style="display:grid;grid-template-columns:1fr 1fr;gap:16px;margin-bottom:32px;">
                        <div class="form-group" style="margin-bottom:0;">
                            <label>First Name <span style="color:#ff6b6b;">*</span></label>
                            <input type="text" id="firstName" placeholder="John" required>
                        </div>
                        <div class="form-group" style="margin-bottom:0;">
                            <label>Last Name <span style="color:#ff6b6b;">*</span></label>
                            <input type="text" id="lastName" placeholder="Doe" required>
                        </div>
                    </div>
                    <div class="form-group">
                        <label>Email Address <span style="color:#ff6b6b;">*</span></label>
                        <input type="email" id="email" placeholder="john@example.com" required>
                    </div>
                    <div class="form-group">
                        <label>Phone Number <span style="color:#ff6b6b;">*</span></label>
                        <input type="tel" id="phone" placeholder="+1 (555) 123-4567" required>
                    </div>

                    <!-- About You -->
                    <h3 style="font-size:1.125rem;font-weight:600;margin:32px 0 20px;display:flex;align-items:center;gap:8px;">
                        <span style="font-size:1.25rem;">✨</span> About You
                    </h3>
                    <div class="form-group">
                        <label>What do you do? <span style="color:#ff6b6b;">*</span></label>
                        <input type="text" id="occupation" placeholder="e.g., Software Engineer, Student, Entrepreneur..." required>
                        <small style="opacity:0.6;font-size:0.8125rem;display:block;margin-top:6px;">Your profession or current role</small>
                    </div>
                    <div class="form-group">
                        <label>Where are you from? <span style="color:#ff6b6b;">*</span></label>
                        <input type="text" id="hometown" placeholder="City, Country" required>
                    </div>

                    <!-- The Important Part -->
                    <h3 style="font-size:1.125rem;font-weight:600;margin:32px 0 20px;display:flex;align-items:center;gap:8px;">
                        <span style="font-size:1.25rem;">💭</span> Your Story
                    </h3>
                    <div class="form-group">
                        <label>Why do you want to meet <span id="celebrityNameInForm">this celebrity</span>? <span style="color:#ff6b6b;">*</span></label>
                        <textarea id="meetingReason" placeholder="Share your story... What inspires you about them? How have they impacted your life? What would this meeting mean to you?" required style="min-height:120px;"></textarea>
                        <small style="opacity:0.6;font-size:0.8125rem;display:block;margin-top:6px;">Minimum 50 characters - be genuine and thoughtful</small>
                    </div>
                    <div class="form-group">
                        <label>What would you like to talk about during the meeting? <span style="color:#ff6b6b;">*</span></label>
                        <textarea id="discussionTopics" placeholder="e.g., Career advice, their creative process, specific projects, life lessons..." required style="min-height:100px;"></textarea>
                        <small style="opacity:0.6;font-size:0.8125rem;display:block;margin-top:6px;">This helps us prepare for a meaningful conversation</small>
                    </div>
                    <div class="form-group">
                        <label>Is this meeting for a special occasion? <span style="opacity:0.6;">(Optional)</span></label>
                        <select id="occasion" style="background:#000;border:1px solid rgba(255,255,255,0.15);border-radius:12px;padding:14px 16px;color:#fff;width:100%;font-size:1rem;">
                            <option value="">Select if applicable...</option>
                            <option value="birthday">Birthday celebration</option>
                            <option value="graduation">Graduation gift</option>
                            <option value="anniversary">Anniversary</option>
                            <option value="achievement">Personal achievement/milestone</option>
                            <option value="inspiration">Seeking inspiration/guidance</option>
                            <option value="other">Other special reason</option>
                        </select>
                    </div>
                    <div class="form-group">
                        <label>Anything else you'd like to share? <span style="opacity:0.6;">(Optional)</span></label>
                        <textarea id="additionalInfo" placeholder="Share any other relevant information, special requests, or context that would help make this meeting special..." style="min-height:80px;"></textarea>
                    </div>

                    <!-- Agreement -->
                    <div style="background:rgba(255,215,0,0.05);border:1px solid rgba(255,215,0,0.2);border-radius:12px;padding:20px;margin-top:32px;">
                        <label style="display:flex;align-items:start;gap:12px;cursor:pointer;font-size:0.9375rem;line-height:1.6;">
                            <input type="checkbox" id="agreementCheck" required style="margin-top:4px;width:18px;height:18px;accent-color:#FFD700;cursor:pointer;">
                            <span>
                                I understand that this is a meeting request and <strong>approval is not guaranteed</strong>. The celebrity or their team will review my application and respond within 48 hours. <span style="color:#ff6b6b;">*</span>
                            </span>
                        </label>
                    </div>

                    <div style="display:flex;gap:12px;margin-top:32px;">
                        <button class="btn-secondary" onclick="prevStep()">Back</button>
                        <button class="btn-primary" onclick="validateAndProceed()">Submit Application</button>
                    </div>
                </div>

                <!-- Step 4: Payment -->
                <div class="step-section" id="step4">
                    <h2>Payment method</h2>
                    <div class="payment-methods">
                        <div class="payment-method selected" onclick="selectPayment(this, 'card')">
                            <div class="payment-icon">💳</div>
                            <div class="payment-label">Credit or Debit Card</div>
                        </div>
                        <div class="payment-method" onclick="selectPayment(this, 'paypal')">
                            <div class="payment-icon">P</div>
                            <div class="payment-label">PayPal</div>
                        </div>
                        <div class="payment-method" onclick="selectPayment(this, 'apple')">
                            <div class="payment-icon">🍎</div>
                            <div class="payment-label">Apple Pay</div>
                        </div>
                    </div>
                    <div class="form-group" style="margin-top:24px;">
                        <label>Card Number</label>
                        <input type="text" id="cardNumber" placeholder="1234 5678 9012 3456" required>
                    </div>
                    <div style="display:grid;grid-template-columns:1fr 1fr;gap:16px;">
                        <div class="form-group">
                            <label>Expiry Date</label>
                            <input type="text" id="expiry" placeholder="MM/YY" required>
                        </div>
                        <div class="form-group">
                            <label>CVV</label>
                            <input type="text" id="cvv" placeholder="123" required>
                        </div>
                    </div>
                    <div style="background:rgba(255,255,255,0.03);border:1px solid rgba(255,255,255,0.08);border-radius:12px;padding:20px;margin-top:24px;">
                        <p style="font-size:0.875rem;opacity:0.8;margin:0;line-height:1.6;">
                            💳 Your payment will be held securely and only processed if your meeting request is approved. You'll receive a full refund if not approved.
                        </p>
                    </div>
                    <div style="display:flex;gap:12px;margin-top:32px;">
                        <button class="btn-secondary" onclick="prevStep()">Back</button>
                        <button class="btn-primary" onclick="completeBooking()">Submit Request & Payment</button>
                    </div>
                </div>

                <!-- Step 5: Success -->
                <div class="step-section" id="step5">
                    <div class="success-message">
                        <div class="success-icon">⏳</div>
                        <h2>Request submitted!</h2>
                        <p style="line-height:1.8;">Your meeting request has been submitted and is now under review. You'll receive an email within <strong>48 hours</strong> with the decision.</p>
                        <div style="background:rgba(255,215,0,0.08);border:1px solid rgba(255,215,0,0.2);border-radius:12px;padding:16px;margin-top:24px;text-align:left;">
                            <p style="margin:0;font-size:0.9375rem;line-height:1.6;opacity:0.9;">
                                <strong>What happens next?</strong><br>
                                • Your application will be personally reviewed<br>
                                • Payment is held securely (not charged yet)<br>
                                • You'll be notified of the decision via email<br>
                                • If approved, payment will be processed<br>
                                • If not approved, you'll receive a full refund
                            </p>
                        </div>
                        <p style="opacity:0.5;margin-top:24px;font-size:0.875rem;">Request reference: #SM-2025-<span id="bookingRef"></span></p>
                    </div>
                    <div class="booking-details">
                        <div class="booking-details-row">
                            <span style="opacity:0.6;">Celebrity</span>
                            <span style="font-weight:600;">Taylor Swift</span>
                        </div>
                        <div class="booking-details-row">
                            <span style="opacity:0.6;">Package</span>
                            <span style="font-weight:600;" id="confirmedPackage">Standard Meet</span>
                        </div>
                        <div class="booking-details-row">
                            <span style="opacity:0.6;">Date & Time</span>
                            <span style="font-weight:600;" id="confirmedDateTime">Dec 25, 2025 at 10:00 AM</span>
                        </div>
                        <div class="booking-details-row">
                            <span style="opacity:0.6;">Duration</span>
                            <span style="font-weight:600;" id="confirmedDuration">30 minutes</span>
                        </div>
                        <div class="booking-details-row">
                            <span style="opacity:0.6;">Location</span>
                            <span style="font-weight:600;">Beverly Hills, CA</span>
                        </div>
                        <div class="booking-details-row">
                            <span style="opacity:0.6;">Amount (Pending)</span>
                            <span style="font-weight:700;font-size:1.25rem;" id="confirmedPrice">$1,500</span>
                        </div>
                    </div>
                    <button class="btn-primary" onclick="window.location.href='dashboard.html'">View Request Status</button>
                    <button class="btn-secondary" onclick="window.location.href='browse.html'">Browse More Celebrities</button>
                </div>
            </div>

            <div class="booking-sidebar">
                <div class="summary-card">
                    <h3 style="font-size:1.25rem;font-weight:700;margin-bottom:20px;">Booking Summary</h3>
                    <div style="text-align:center;margin-bottom:20px;">
                        <div style="width:80px;height:80px;border-radius:50%;background:linear-gradient(135deg, rgba(255,255,255,0.2) 0%, rgba(255,255,255,0.05) 100%);display:flex;align-items:center;justify-content:center;font-size:2rem;font-weight:700;margin:0 auto 12px;">TS</div>
                        <div style="font-weight:600;font-size:1.1rem;">Taylor Swift</div>
                        <div style="opacity:0.6;font-size:0.875rem;">Pop Star</div>
                    </div>
                    <div class="summary-item">
                        <span class="summary-label">Package</span>
                        <span class="summary-value" id="summaryPackage">Standard Meet</span>
                    </div>
                    <div class="summary-item">
                        <span class="summary-label">Duration</span>
                        <span class="summary-value" id="summaryDuration">30 minutes</span>
                    </div>
                    <div class="summary-item">
                        <span class="summary-label">Date</span>
                        <span class="summary-value" id="summaryDate">Not selected</span>
                    </div>
                    <div class="summary-item">
                        <span class="summary-label">Time</span>
                        <span class="summary-value" id="summaryTime">Not selected</span>
                    </div>
                    <div class="summary-total">
                        <div class="summary-item" style="padding:0;border:none;">
                            <span class="summary-label">Total</span>
                            <span class="summary-value" id="summaryTotal">$1,500</span>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <script>
        let currentStep = 1;
        let selectedPackage = {name: 'Standard Meet', price: 1500, duration: 30};
        let selectedDate = null;
        let selectedTime = null;
        let selectedLocation = 'Los Angeles, CA';
        let isEditMode = false;

        // Initialize with URL parameters if coming from celebrity profile
        window.addEventListener('DOMContentLoaded', function() {
            const params = new URLSearchParams(window.location.search);

            // Set celebrity name in form
            if (params.has('celebrity')) {
                const celebrityName = params.get('celebrity');
                document.getElementById('celebrityNameInForm').textContent = celebrityName;
            }

            if (params.has('location')) {
                selectedLocation = params.get('location');
                document.getElementById('displayLocation').textContent = selectedLocation;
                document.getElementById('editLocation').value = selectedLocation;
            }

            if (params.has('date')) {
                selectedDate = params.get('date');
                document.getElementById('displayDate').textContent = selectedDate;
                document.getElementById('editDate').value = selectedDate;
                document.getElementById('summaryDate').textContent = selectedDate;
            }

            if (params.has('timeSlot') && params.get('timeSlot')) {
                selectedTime = params.get('timeSlot');
                document.getElementById('displayTime').textContent = selectedTime;
                document.getElementById('summaryTime').textContent = selectedTime;
            }

            if (params.has('meetingType') && params.has('price')) {
                const meetingType = params.get('meetingType');
                const price = parseInt(params.get('price'));
                const duration = parseInt(params.get('duration').replace(' minutes', ''));

                selectedPackage = {name: meetingType, price, duration};
                document.getElementById('summaryPackage').textContent = meetingType;
                document.getElementById('summaryDuration').textContent = duration + ' minutes';
                document.getElementById('summaryTotal').textContent = '$' + price.toLocaleString();

                // Select the right package option
                document.querySelectorAll('.package-option').forEach(opt => {
                    const optName = opt.querySelector('.package-name').textContent;
                    if (optName === meetingType) {
                        opt.classList.add('selected');
                    } else {
                        opt.classList.remove('selected');
                    }
                });
            }
        });

        // Toggle edit mode for meeting details
        function toggleEditMode() {
            isEditMode = !isEditMode;
            const confirmView = document.getElementById('confirmView');
            const editView = document.getElementById('editView');
            const editBtnText = document.getElementById('editBtnText');

            if (isEditMode) {
                confirmView.style.display = 'none';
                editView.style.display = 'block';
                editBtnText.textContent = '✓ Done';
            } else {
                confirmView.style.display = 'block';
                editView.style.display = 'none';
                editBtnText.textContent = '✏️ Edit';
            }
        }

        // Update display values when editing
        function updateDisplayValues() {
            selectedLocation = document.getElementById('editLocation').value;
            selectedDate = document.getElementById('editDate').value;

            document.getElementById('displayLocation').textContent = selectedLocation;
            document.getElementById('displayDate').textContent = selectedDate;
            document.getElementById('summaryDate').textContent = selectedDate;
        }

        // Select time slot in mini view
        function selectTimeMini(element, time) {
            document.querySelectorAll('.time-slot-mini').forEach(el => el.classList.remove('selected'));
            element.classList.add('selected');
            selectedTime = time;
            document.getElementById('displayTime').textContent = time;
            document.getElementById('summaryTime').textContent = time;
        }

        // Generate calendar
        function generateCalendar() {
            const calendar = document.getElementById('calendar');
            const daysInMonth = 30;
            const today = new Date().getDate();

            for (let day = 1; day <= daysInMonth; day++) {
                const dayEl = document.createElement('div');
                dayEl.className = 'calendar-day' + (day < today ? ' disabled' : '');
                dayEl.textContent = day;
                if (day >= today) {
                    dayEl.onclick = function() {
                        selectDate(this, day);
                    };
                }
                calendar.appendChild(dayEl);
            }
        }

        function selectDate(element, day) {
            if (element.classList.contains('disabled')) return;
            document.querySelectorAll('.calendar-day').forEach(el => el.classList.remove('selected'));
            element.classList.add('selected');
            selectedDate = 'Dec ' + day + ', 2025';
            document.getElementById('summaryDate').textContent = selectedDate;
        }

        function selectTime(element, time) {
            if (element.classList.contains('unavailable')) return;
            document.querySelectorAll('.time-slot').forEach(el => el.classList.remove('selected'));
            element.classList.add('selected');
            selectedTime = time;
            document.getElementById('summaryTime').textContent = time;
        }

        function selectPackage(element, name, price, duration) {
            document.querySelectorAll('.package-option').forEach(el => el.classList.remove('selected'));
            element.classList.add('selected');
            selectedPackage = {name, price, duration};
            document.getElementById('summaryPackage').textContent = name;
            document.getElementById('summaryDuration').textContent = duration + ' minutes';
            document.getElementById('summaryTotal').textContent = '$' + price.toLocaleString();
        }

        function selectPayment(element, method) {
            document.querySelectorAll('.payment-method').forEach(el => el.classList.remove('selected'));
            element.classList.add('selected');
        }

        function nextStep() {
            if (currentStep < 5) {
                document.getElementById('step' + currentStep).classList.remove('active');
                currentStep++;

                // Skip step 2 (deprecated date/time step)
                if (currentStep === 2) {
                    currentStep = 3;
                }

                document.getElementById('step' + currentStep).classList.add('active');
                updateProgress();
                window.scrollTo({top: 0, behavior: 'smooth'});
            }
        }

        function prevStep() {
            if (currentStep > 1) {
                document.getElementById('step' + currentStep).classList.remove('active');
                currentStep--;

                // Skip step 2 (deprecated date/time step)
                if (currentStep === 2) {
                    currentStep = 1;
                }

                document.getElementById('step' + currentStep).classList.add('active');
                updateProgress();
                window.scrollTo({top: 0, behavior: 'smooth'});
            }
        }

        function updateProgress() {
            document.querySelectorAll('.progress-step').forEach((step, index) => {
                if (index < currentStep) {
                    step.classList.add('completed');
                    step.classList.remove('active');
                } else if (index === currentStep - 1) {
                    step.classList.add('active');
                    step.classList.remove('completed');
                } else {
                    step.classList.remove('active', 'completed');
                }
            });

            const progressPercentage = ((currentStep - 1) / 4) * 100;
            document.getElementById('progressLine').style.width = progressPercentage + '%';
        }

        // Validate application form before proceeding
        function validateAndProceed() {
            // Get all required fields
            const firstName = document.getElementById('firstName').value.trim();
            const lastName = document.getElementById('lastName').value.trim();
            const email = document.getElementById('email').value.trim();
            const phone = document.getElementById('phone').value.trim();
            const occupation = document.getElementById('occupation').value.trim();
            const hometown = document.getElementById('hometown').value.trim();
            const meetingReason = document.getElementById('meetingReason').value.trim();
            const discussionTopics = document.getElementById('discussionTopics').value.trim();
            const agreementCheck = document.getElementById('agreementCheck').checked;

            // Validation
            if (!firstName || !lastName) {
                alert('Please provide your full name.');
                return;
            }

            if (!email || !email.includes('@')) {
                alert('Please provide a valid email address.');
                return;
            }

            if (!phone) {
                alert('Please provide your phone number.');
                return;
            }

            if (!occupation) {
                alert('Please tell us what you do.');
                return;
            }

            if (!hometown) {
                alert('Please tell us where you\'re from.');
                return;
            }

            if (!meetingReason || meetingReason.length < 50) {
                alert('Please share why you want to meet (minimum 50 characters). Be thoughtful and genuine.');
                return;
            }

            if (!discussionTopics || discussionTopics.length < 20) {
                alert('Please tell us what you\'d like to discuss during the meeting (minimum 20 characters).');
                return;
            }

            if (!agreementCheck) {
                alert('Please acknowledge that approval is not guaranteed and your request will be reviewed.');
                return;
            }

            // If all validations pass, proceed to payment
            nextStep();
        }

        function completeBooking() {
            nextStep();
            document.getElementById('confirmedPackage').textContent = selectedPackage.name;
            document.getElementById('confirmedDuration').textContent = selectedPackage.duration + ' minutes';
            document.getElementById('confirmedPrice').textContent = '$' + selectedPackage.price.toLocaleString();
            document.getElementById('confirmedDateTime').textContent = (selectedDate || 'Dec 25, 2025') + ' at ' + (selectedTime || '10:00 AM');
            document.getElementById('bookingRef').textContent = Math.floor(Math.random() * 10000).toString().padStart(4, '0');
        }

        // Initialize
        generateCalendar();
        updateProgress();
    </script>

    <footer>
        <div class="footer-main">
            <div class="footer-newsletter">
                <h3>Join our mailing list</h3>
                <p>Be the first to know about the newest stars and best deals on StarryMeet</p>
                <form class="newsletter-form" onsubmit="event.preventDefault(); alert('Newsletter signup coming soon!');">
                    <input type="email" placeholder="Your email" required>
                    <button type="submit" class="btn btn-primary">→</button>
                </form>
                <p class="privacy-note">Emails subject to <a href="privacy.html">privacy policy</a></p>
                <div class="footer-cta-buttons">
                    <a href="for-celebrities.html" class="btn btn-primary">Join as talent</a>
                    <a href="contact.html" class="btn btn-outline">Become a partner</a>
                </div>
            </div>
        </div>
        <div class="footer-columns">
            <div class="footer-column">
                <h4>Company</h4>
                <ul>
                    <li><a href="about.html">About</a></li>
                    <li><a href="team.html">Team</a></li>
                    <li><a href="jobs.html">Jobs</a></li>
                    <li><a href="blog/index.html">Blog</a></li>
                    <li><a href="contact.html">Press</a></li>
                </ul>
            </div>
            <div class="footer-column">
                <h4>Support</h4>
                <ul>
                    <li><a href="faq.html">Help</a></li>
                    <li><a href="contact.html">Accessibility</a></li>
                    <li><a href="terms.html">Refunds & Returns</a></li>
                </ul>
            </div>
            <div class="footer-column">
                <h4>Shop</h4>
                <ul>
                    <li><a href="browse.html">Gift Cards</a></li>
                    <li><a href="for-celebrities.html">For business</a></li>
                    <li><a href="browse.html">For kids</a></li>
                </ul>
            </div>
        </div>
        <div class="footer-bottom">
            <div class="footer-social">
                <a href="#" aria-label="Download on App Store">App Store</a>
                <a href="#" aria-label="Get it on Google Play">Google Play</a>
                <a href="#" aria-label="Instagram">IG</a>
                <a href="#" aria-label="TikTok">TT</a>
                <a href="#" aria-label="Twitter/X">X</a>
                <a href="#" aria-label="Threads">TH</a>
                <a href="#" aria-label="Email">EM</a>
            </div>
            <p class="footer-copyright">© 2025 StarryMeet</p>
            <div class="footer-legal">
                <a href="terms.html">Terms of Service</a>
                <a href="privacy.html">Privacy Policy</a>
                <a href="contact.html">Do Not Sell My Personal Information</a>
            </div>
            <div class="footer-locale" style="text-align: center; margin-top: 32px;">
                <button class="locale-btn" onclick="openLocaleModal()">🌐 <span id="footerLocaleText">EN | United States | $ USD</span></button>
            </div>
        </div>
    </footer>
</body>
</html>
